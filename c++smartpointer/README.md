# 概要
スマートポインタを使う前までは、newした際にはdelete処理を入れる必要がありました。
しかし、このdeleteは漏れが多いので、以下で説明するスマートポインタという仕組みが用いられる様になりました。

- C++03以前
  - auto_ptr
- C++11以降
  - unique_ptr
  - shared_ptr
  - weak_ptr


# スマートポインタの使い分け
- auto_ptrは勝手に所有権が移動する問題があるので使ってはなりません(sample2.ccを参照のこと)
- メモリを動的確保によって「所有」する必要がある場合、原則として unique_ptr<T>を利用する。
- メモリを動的確保によって「所有」するが、以下のいずれかの場合には shared_ptr<T>を利用する
  - 複数のオブジェクトによって「所有」されるのが、最も自然な設計である場合。
  - 「危険なアクセス」による「参照」が、設計上どうしても必要な場合。
- 「危険なアクセス」による「参照」には、weak_ptr<T>を利用する。


なお、shared_ptrを使う場合には、make_sharedを使った方がメモリ割り当てをnewするよりも高速化することができるので、こちらの方が推奨される。
```
std::make_shared<データ型>(引数)
```

# 参考資料
- C++11スマートポインタ入門
  - 非常にわかりやすい資料
  - https://qiita.com/hmito/items/db3b14917120b285112f
- POSTD: C++11スマートポインタで避けるべき過ち Top10
  - https://postd.cc/top-10-dumb-mistakes-avoid-c-11-smart-pointers/
